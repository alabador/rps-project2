<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <title>Rock Paper Scissors</title>
    </head>
    <body>
        <script>
            let possible = ['Rock', 'Paper', 'Scissors'];
            let wins = 0; 
            let computerWins = 0; 

            //Function to randomly choose from array 'possible'
            function computerPlay() {
                return possible[Math.floor(Math.random()*possible.length)]
            }

            //Function that allows any capitalization to work as input
            function capitalize(string) {
                let lower = string.toLowerCase(); 
                return lower.charAt(0).toUpperCase() + lower.slice(1);
            }

            //Function that checks win condition based off of player input and computer
            function playRound(playerSelection, computerSelection) {
                if (capitalize(playerSelection) === capitalize(computerSelection)) {
                    return "It's a tie, the computer picked" + " " + capitalize(computerSelection) + "." + " Play again!";  
                } else if (capitalize(playerSelection) === 'Rock' && capitalize(computerSelection) === 'Paper') {
                    return "You lose! Paper beats rock.";
                } else if (capitalize(playerSelection) === 'Rock' && capitalize(computerSelection) === 'Scissors') {
                    return "You win! Rock beats scissors!";
                } else if (capitalize(playerSelection) === 'Paper' && capitalize(computerSelection) === 'Rock') {
                    return "You win! Paper beats rock.";
                } else if (capitalize(playerSelection) === 'Paper' && capitalize(computerSelection) === 'Scissors') {
                    return "You lose! Scissors beats paper.";
                } else if (capitalize(playerSelection) === 'Scissors' && capitalize(computerSelection) === 'Rock') {
                    return "You lose! Rock beats scissors.";
                } else if (capitalize(playerSelection) === 'Scissors' && capitalize(computerSelection) === 'Paper') {
                    return "You win! Scissors beats paper.";
                } else {
                    return "Choose either rock, paper, or scissors.";
                } 
            }

            //Function that prompts user input, as well as adds one point to winner.
            function score() { 
                let result = playRound(prompt("Rock, Paper, or Scissors?"), computerPlay());
                
                if (result.includes('win')) {
                    ++wins; 
                }  else if (result.includes('lose')) {
                    ++computerWins; 
                }
                let finish = result + " " + "Your score:" + wins + "." + " Computer's score:" + computerWins;
                alert(finish); 
            }
            

            function game() { 
              //resets the game to 0 each time;
              wins = 0;
              computerWins = 0;
              gamesRun = 0;  
              score();
              score();
              score();
              score();
              score();

              if (wins >= 3) {
                    alert("Congratulations, you won the game! Your score:" + wins + "." + " Computer's score:" + computerWins);
                    return; 
              } else if (computerWins >= 3) {
                    alert("You lost the game. Try again! Your score:" + wins + "." + " Computer's score:" + computerWins);
                    return;
              } else if (wins > computerWins) {
                    alert("Congratulations, you won the game! Your score:" + wins + "." + " Computer's score:" + computerWins);
                    return;
              } else if (computerWins > wins) {
                    alert("You lost the game. Try again! Your score:" + wins + "." + " Computer's score:" + computerWins);
                    return; 
              } else {
                    alert("It's a draw. Your score:" + wins + "." + " Computer's score:" + computerWins);
                    return; 
              }


            }

        </script>
    </body>
</html>